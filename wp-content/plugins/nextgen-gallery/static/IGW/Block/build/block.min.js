(()=>{"use strict";var e={};function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(null,arguments)}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const n=window.React;var r=e.n(n),a=["className"],l=function(e){var n=e.className,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,a);return r().createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 240 240",width:"240.0pt",height:"240.0pt",className:n},l),r().createElement("path",{d:"M 0.00 0.00 L 240.00 0.00 L 240.00 240.00 L 0.00 240.00 L 0.00 0.00 Z",fill:"#ffffff"}),r().createElement("path",{d:"M 116.97 3.45 C 155.78 2.17 194.29 21.78 215.90 54.07 C 226.92 70.43 234.08 89.34 236.07 109.00 C 239.08 140.20 228.61 172.42 208.14 196.12 C 191.73 215.41 168.66 228.79 143.97 234.16 C 125.25 238.08 105.37 237.44 87.04 231.86 C 67.00 226.07 48.82 214.65 34.69 199.32 C 14.08 177.26 2.88 147.13 3.50 117.00 C 4.36 95.58 10.72 74.49 22.55 56.55 C 35.03 37.69 52.63 22.36 73.52 13.50 C 87.07 6.87 101.94 3.80 116.97 3.45 Z",fill:"#9fbb1a"}),r().createElement("path",{d:"M 69.17 61.47 C 70.78 61.56 72.37 61.91 73.97 62.05 C 80.30 62.27 86.66 62.04 93.00 62.14 C 96.81 62.23 100.65 61.35 104.18 62.75 C 108.45 64.30 111.62 68.44 111.67 73.03 C 111.78 81.35 111.66 89.68 111.72 98.00 C 111.65 101.03 111.87 104.65 110.30 107.35 C 108.22 110.91 104.17 113.41 100.02 113.40 C 90.68 113.43 81.33 113.42 71.99 113.40 C 65.66 113.41 59.85 108.54 59.66 102.04 C 59.55 92.36 59.70 82.67 59.58 72.99 C 59.41 67.44 63.60 62.15 69.17 61.47 Z",fill:"#ffffff"}),r().createElement("path",{d:"M 138.98 61.27 C 148.33 61.42 157.69 61.22 167.04 61.37 C 173.28 61.31 178.81 66.69 178.70 72.96 C 178.72 82.65 178.75 92.34 178.68 102.02 C 178.48 108.28 173.18 112.96 167.02 113.04 C 157.69 113.25 148.33 113.02 138.99 113.15 C 132.77 113.56 126.76 108.35 126.66 102.04 C 126.55 94.37 126.67 86.68 126.62 79.00 C 126.63 76.33 126.42 73.60 126.72 70.94 C 127.60 65.24 133.25 60.88 138.98 61.27 Z",fill:"#ffffff"}),r().createElement("path",{d:"M 70.97 72.97 C 80.41 72.70 89.87 72.92 99.31 72.86 C 99.39 82.36 99.34 91.87 99.34 101.38 C 89.85 101.36 80.36 101.42 70.87 101.35 C 70.90 91.90 70.70 82.42 70.97 72.97 Z",fill:"#9fbb1a"}),r().createElement("path",{d:"M 138.39 72.91 C 147.80 72.79 157.23 72.85 166.65 72.88 C 166.65 82.41 166.85 91.97 166.55 101.49 C 157.18 101.27 147.79 101.39 138.41 101.42 C 138.30 91.92 138.36 82.41 138.39 72.91 Z",fill:"#9fbb1a"}),r().createElement("path",{d:"M 69.96 128.72 C 77.95 128.35 86.00 128.68 94.00 128.66 C 97.84 128.75 101.40 128.12 104.93 129.93 C 109.12 131.86 111.63 136.43 111.39 141.00 C 111.31 150.34 111.48 159.70 111.31 169.04 C 111.25 175.45 105.33 180.72 99.01 180.44 C 90.00 180.43 81.00 180.42 71.99 180.44 C 67.16 180.64 62.37 177.99 60.28 173.57 C 59.04 171.04 59.32 167.76 59.27 165.00 C 59.38 156.70 59.15 148.39 59.37 140.10 C 59.59 134.25 64.10 129.27 69.96 128.72 Z",fill:"#ffffff"}),r().createElement("path",{d:"M 137.96 128.68 C 146.96 128.36 156.00 128.45 165.00 128.61 C 167.68 128.64 170.26 129.00 172.61 130.36 C 176.44 132.46 178.51 136.68 178.41 140.99 C 178.39 150.33 178.47 159.67 178.37 169.01 C 178.48 174.84 173.95 180.48 167.95 180.68 C 159.31 180.89 150.65 180.67 142.00 180.78 C 139.64 180.74 137.05 180.91 134.76 180.27 C 129.71 178.66 126.48 173.17 126.62 168.01 C 126.61 161.01 126.64 154.00 126.62 147.00 C 126.71 143.40 126.11 139.00 127.75 135.73 C 129.57 131.70 133.51 128.85 137.96 128.68 Z",fill:"#ffffff"}),r().createElement("path",{d:"M 70.98 140.01 C 80.41 139.71 89.87 139.94 99.31 139.89 C 99.40 149.41 99.33 158.93 99.35 168.45 C 89.85 168.43 80.36 168.47 70.86 168.42 C 70.91 158.96 70.69 149.47 70.98 140.01 Z",fill:"#9fbb1a"}),r().createElement("path",{d:"M 138.45 140.41 C 147.84 140.29 157.27 140.44 166.67 140.35 C 166.70 149.82 166.71 159.29 166.67 168.77 C 157.24 168.71 147.81 168.71 138.38 168.77 C 138.39 159.32 138.24 149.85 138.45 140.41 Z",fill:"#9fbb1a"}))};const o=window.wp.blocks,c=window.wp.element;function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const d=window.wp.i18n,f=window.ReactDOM;var u={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,r,a,l,o,c,i="",d=0;for(e=u._utf8_encode(e);d<e.length;)a=(t=e.charCodeAt(d++))>>2,l=(3&t)<<4|(n=e.charCodeAt(d++))>>4,o=(15&n)<<2|(r=e.charCodeAt(d++))>>6,c=63&r,isNaN(n)?o=c=64:isNaN(r)&&(c=64),i=i+u._keyStr.charAt(a)+u._keyStr.charAt(l)+u._keyStr.charAt(o)+u._keyStr.charAt(c);return i},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}};const g=function(e){var t,n=e.content,r=e.onCloseModal,a=e.onInsertGallery,l=(0,c.useRef)(null),o=(0,c.useRef)(null),i=(0,c.useCallback)(function(e){e&&(e.preventDefault(),e.stopPropagation()),r()},[r]);(0,c.useEffect)(function(){var e=document.body;e.style.overflow="hidden";var t=document.createElement("div");t.setAttribute("id","add-ngg-gallery-modal-background"),e.appendChild(t),l.current=t;var n=document.getElementById("add-ngg-gallery-block-iframe");if(n){var o=function(){var e=document.getElementById("add-ngg-gallery-modal-spinner");e&&e.classList.add("add-ngg-gallery-modal-spinner-hidden")},c=function(e){e.detail&&e.detail.shortcode&&(a(e.detail.shortcode),r())},i=function(){r()};return n.addEventListener("NGG_Iframe_Ready",o),n.addEventListener("NGG_Insert_Gallery",c),n.addEventListener("NGG_Close_Modal",i),function(){e.style.overflow="auto",l.current&&e.contains(l.current)&&e.removeChild(l.current),n.removeEventListener("NGG_Iframe_Ready",o),n.removeEventListener("NGG_Insert_Gallery",c),n.removeEventListener("NGG_Close_Modal",i)}}return function(){e.style.overflow="auto",l.current&&e.contains(l.current)&&e.removeChild(l.current)}},[r,a]);var d=window.igw&&window.igw.url?window.igw.url+"&origin=block":"";if(d||(d=""),null!==(t=window.add_ngg_gallery_block_i18n)&&void 0!==t&&t.nonce&&(d+="&nonce="+encodeURIComponent(window.add_ngg_gallery_block_i18n.nonce)),n){d+="&shortcode=";var g=n.replace(/\\"/g,'"');g=(g=(g=g.replace(/^\[ngg_images/,"")).replace(/^\[ngg/,"")).replace(/]$/,"");try{d+=u.encode(g)}catch(e){console.error("Failed to encode shortcode:",e)}}return(0,f.createPortal)(React.createElement("div",{id:"add-ngg-gallery-modal"},React.createElement("a",{href:"#",id:"add-ngg-gallery-modal-close",onClick:i,"aria-label":"Close modal"},React.createElement("span",{className:"dashicons dashicons-no"})),React.createElement("div",{id:"add-ngg-gallery-modal-spinner"},React.createElement("i",{className:"fa fa-spin fa-spinner"})),React.createElement("iframe",{ref:o,src:d,tabIndex:-1,name:"add-ngg-gallery-block-iframe",id:"add-ngg-gallery-block-iframe",title:"NextGEN Gallery"})),document.body)},s=function(e){var t,n,r,a,l,o,f=e.content,u=e.onInsertGallery,s=(l=(0,c.useState)(!1),o=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,o,c=[],i=!0,d=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=l.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){d=!0,a=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return c}}(l,o)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(l,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=s[0],m=s[1],y=(0,c.useCallback)(function(){return m(!0)},[]),v=(0,c.useCallback)(function(){return m(!1)},[]),b=(0,c.useCallback)(function(){u("")},[u]),h=f&&f.length>0;return React.createElement("div",{className:"add-ngg-gallery-parent"},C&&React.createElement(g,{content:f,onCloseModal:v,onInsertGallery:u}),React.createElement("div",{className:"add-ngg-gallery-block",style:{width:"100%"}},React.createElement("h3",null,(null===(t=window.add_ngg_gallery_block_i18n)||void 0===t?void 0:t.h3)||(0,d.__)("NextGEN Gallery","nggallery")),React.createElement("p",{style:{color:"#666",margin:"6px 0"}},(0,d.__)("We strongly recommend you use the new blocks","nggallery")),h&&React.createElement("hr",{style:{width:"100%"}}),h?React.createElement(React.Fragment,null,React.createElement("button",{type:"button",className:"add-ngg-gallery-button",onClick:y,"aria-label":(0,d.__)("Edit gallery","nggallery")},(null===(n=window.add_ngg_gallery_block_i18n)||void 0===n?void 0:n.edit)||(0,d.__)("Edit","nggallery")),React.createElement("button",{type:"button",className:"add-ngg-gallery-button",onClick:b,"aria-label":(0,d.__)("Delete gallery","nggallery")},(null===(r=window.add_ngg_gallery_block_i18n)||void 0===r?void 0:r.delete)||(0,d.__)("Delete","nggallery"))):React.createElement("button",{type:"button",className:"add-ngg-gallery-button",onClick:y,"aria-label":(0,d.__)("Create a new gallery","nggallery")},(null===(a=window.add_ngg_gallery_block_i18n)||void 0===a?void 0:a.create)||(0,d.__)("Create","nggallery"))))};var C={icon:React.createElement(l,null),edit:function(e){var t=e.attributes,n=e.setAttributes;return React.createElement(s,{content:t.content||"",onInsertGallery:function(e){return n({content:e})}})},save:function(e){var t=e.attributes;return React.createElement(c.RawHTML,null,t.content||"")}};(0,o.registerBlockType)("imagely/nextgen-gallery",C)})();